# 04、与HTTP相关的各种协议

![](https://raw.githubusercontent.com/dddygin/image-storage/main/blog/image/network/http/01/04_01.png)



### TCP/IP

TCP/IP 协议实际上是一系列网络通信协议的统称，其中最核心的两个是 **TCP** 和 **IP** ， 其他的还有 UDP、ICMP、ARP 等等，共同构成了一个复杂但有层次的协议栈。

**协议栈组成**：TCP/IP 协议栈有 4 层，从上到下分别有：应用层 ->  传输层(TCP) -> 网际层(IP) -> 链接层。

**IP 协议**是“**I**nternet **P**rotocol”的缩写，主要目的是<font color='orange'>解决寻址和路由问题</font>，以及如何在两点间传送数据包。IP 协议使用“**IP 地址**”的概念来定位互联网上的每一台计算机。

> 现在我们使用的 IP 协议大多数是 v4 版，地址是四个用“.”分隔的数字，例如“192.168.0.1”，总共有 2^32，大约 42 亿个可以分配的地址。

**TCP 协议** 是“**T**ransmission **C**ontrol **P**rotocol”的缩写，意思是“传输控制协议”，它位于 IP 协议之上，基于 IP 协议提供可靠的、字节流形式的通信，是 HTTP 协议得以实现的基础。

**DNS**

**域名系统**”（**D**omain **N**ame **S**ystem） 用有意义的名字来作为 IP 地址的等价替代。 域名用“.”分隔成多个单词，级别从左到右逐级升高，最右边的被称为“顶级域名” 。

> 1. 顶级域名：如 com（商业公司）、edu（教育机构）、cn（国家，中国）。
>
> 2. 全球有 全世界有 13 组根 DNS 服务器 



### URI/URL

URI（**U**niform **R**esource **I**dentifier），中文名称是 **统一资源标识符**，使用它就能够唯一地标记互联网上资源。

> 如： http://nginx.org/en/download.html 
>
> 1.  协议名：即访问该资源应当使用的协议，在这里是“http” ；
> 2. 主机名：即互联网上主机的标记，可以是域名或 IP 地址，在这里是“nginx.org”；
> 3.  路径：即资源在主机上的位置，使用“/”分隔多级目录，在这里是“/en/download.html” 。

### HTTPS

**HTTPS** ：“**HTTP over SSL/TLS**”，也就是运行在 SSL/TLS 协议上的 HTTP。 这里是 SSL/TLS，而不是 TCP/IP，它是一个负责**加密通信的安全协议**，建立在 TCP/IP 之上，所以也是个可靠的传输协议，可以被用作 HTTP 的下层。 

**SS**L 的全称是“**S**ecure **S**ocket **L**ayer”，由网景公司发明，当发展到 3.0 时被标准化，改名为 TLS，即“**T**ransport **L**ayer **S**ecurity”，但由于历史的原因还是有很多人称之为 SSL/TLS，或者直接简称为 SSL 。

> SSL 使用了许多密码学最先进的研究成果，综合了对称加密、非对称加密、摘要算法、数字签名、数字证书等技术，能够在不安全的环境中为通信的双方创建出一个秘密的、安全的传输通道，为 HTTP 套上一副坚固的盔甲 。

### 代理

代理（Proxy）是 HTTP 协议中请求方和应答方中间的一个环节，作为“中转站”，既可以转发客户端的请求，也可以转发服务器的应答。

**种类：**

1. 匿名代理：完全“隐匿”了被代理的机器，外界看到的只是代理服务器；
2. 透明代理：顾名思义，它在传输过程中是“透明开放”的，外界既知道代理，也知道客户端；
3. 正向代理：靠近客户端，代表客户端向服务器发送请求 ；
4. 反向代理：靠近服务器端，代表服务器响应客户端的请求；

> 正向代理和反向代理的区别？
>
> - 正向代理隐藏真实客户端，反向代理隐藏真实服务端 
>
> - 正向代理的应用：VPN、爬虫（隐藏客户端）
>
> - 反向代理的应用：分布式应用、负载均衡（隐藏真正的服务端）
>
> 实在不理解就参考[知乎的回答]( https://www.zhihu.com/question/24723688 )

**作用**：

1. 负载均衡：把访问请求均匀分散到多台机器，实现访问集群化；
2. 内容缓存：暂存上下行的数据，减轻后端的压力；
3. 安全防护：隐匿 IP, 使用 WAF 等工具抵御网络攻击，保护被代理的机器；
4. 数据处理：提供压缩、加密等额外的功能。